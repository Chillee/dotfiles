#!/bin/sh

export EDITOR="vim"
export PATH=$PATH:$HOME/bin:$HOME/code/go/bin
export XDG_CONFIG_HOME="$HOME/.config"
export GOPATH="$HOME/code/go"

export BSPWM_SOCKET="/tmp/bspwm-socket"
export PANEL_FIFO="/tmp/panel-fifo"
export PANEL_HEIGHT=18
export _JAVA_OPTIONS='-Dawt.useSystemAAFontSettings=on -Dswing.aatext=true -Dswing.defaultlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel'
export _JAVA_AWT_WM_NONREPARENTING=1

if [ -d /etc/X11/xinit/xinitrc.d ]; then
  for f in /etc/X11/xinit/xinitrc.d/*; do
    [ -x "$f" ] && . "$f"
  done
  unset f
fi

xrdb $HOME/.Xresources
xset +fp /usr/share/fonts/local
xset +fp /usr/share/fonts/misc
xset +fp $HOME/.fonts
xset fp rehash

# Keybindings
sxhkd &

# No keyboard backlight
asus-kbd-backlight off &

# Lock touchpad while typing
syndaemon -i 0.4 -k -t -R &

# Normal cursor
xsetroot -cursor_name left_ptr &

# Wallpaper
if [[ -e $HOME/.wallpaper ]]; then
	feh --bg-fill $(cat $HOME/.wallpaper) &
fi

# Urxvt server
urxvtd &

exec bspwm
